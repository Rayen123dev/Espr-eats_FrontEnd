<header class="main-header">
  <div class="header-container">
    <div class="logo-container">
      <img src="../../assets/Espreats.png" alt="Company Logo" class="logo">
    </div>

    <nav class="navigation">
      <ul class="nav-list">
        <li class="nav-item">
          <a routerLink="/menu" routerLinkActive="active" *ngIf="userRole === 'User'">Menus</a>
        </li>
        <li class="nav-item">
          <a routerLink="/profil-nutritionnel" routerLinkActive="active" *ngIf="userRole === 'User'">Nutrition</a>
        </li>
        <li class="nav-item">
          <a routerLink="/posts" routerLinkActive="active" *ngIf="userRole === 'User'">Forum</a>
        </li>
        <li class="nav-item" *ngIf="userRole === 'User' || userRole === 'Admin'">
          <!-- Conditionally set the routerLink based on userRole and hasAbonnement -->
          <a 
            [routerLink]="userRole === 'Admin' ? '/admin-layout/abonnement-report' : (hasAbonnement ? '/abonnement-details' : '/abonnement')" 
            routerLinkActive="active"
          >
            {{ userRole === 'Admin' ? 'Abonnements Report' : 'Abonnement' }}
          </a>
        </li>
        
      </ul>
    </nav>

    <div class="user-actions">
      

      <div class="user-profile" (click)="toggleProfileDropdown()">
        <img [src]="user.link_Image" alt="User Avatar" class="user-avatar">
        <span class="user-name">{{ userName }}</span>
        <i class="icon-chevron-down"></i>

        <div class="profile-dropdown" *ngIf="isProfileDropdownOpen">
          <ul>
            <li (click)="navigateToProfile()">
              <i class="icon-user"></i> Profile
            </li>
            
            <!-- Only show for role 'User' -->
            <li *ngIf="userRole === 'User'" (click)="navigateToSettings()">
              <i class="icon-settings"></i> RÃ©clamations
            </li>
        
            <li (click)="logout()">
              <i class="icon-logout"></i> Logout
            </li>
          </ul>
        </div>
        
      </div>
    </div>
  </div>
</header>
