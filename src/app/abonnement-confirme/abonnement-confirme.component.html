<!-- abonnement-confirme.component.html -->
<div class="confirmation-page" *ngIf="subscriptionDetails && userInfo">

  <!-- Header with checkmark and message -->
  <div class="confirmation-header">
    <div class="checkmark-icon">
      <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#28a745" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
    </div>
    <h1>Félicitations {{ userInfo.name }}</h1>
    <p>
      Nous sommes ravis de confirmer votre commande no. <b>#{{ subscriptionDetails.idAbonnement }}</b> et un email a été envoyé à <b>{{ userInfo.email }}</b>.
    </p>
  </div>

  <!-- Details section -->
  <div class="confirmation-details">
    <!-- Items Section -->
    <div class="items-section">
      <h2>Items</h2>
      <div class="item">
        <!-- <img src="assets/subscription-icon.png" alt="Subscription Icon" class="item-icon" /> -->
        <div class="item-details">
          <span class="item-name">{{ subscriptionDetails.typeAbonnement | titlecase }}</span>
          <p class="item-description">
            Vous avez choisi notre plan d'abonnement {{ subscriptionDetails.typeAbonnement | titlecase }}. Ce plan aide votre équipe à démarrer avec nos outils de classe mondiale.
          </p>
        </div>
        <span class="item-price"></span>
      </div>
      <hr />
      <div class="payment-method">
        <span>Méthode de paiement</span>
        <span>Stripe</span>
      </div>
      <hr />
      <div class="total">
        <span>TOTAL</span>
        <span>{{ formattedCout }} Dt</span>
      </div>
    </div>

    <!-- Information Section -->
    <div class="info-section">
      <h2>Informations</h2>
      <div class="info-item">
        <span>Email</span>
        <span>{{ userInfo.email }}</span>
      </div>
      <div class="info-item">
        <span>Adresse</span>
        <span>{{ userInfo.billingAddress }}</span>
      </div>
    </div>
  </div>
</div>

<!-- Fallback message if data is missing -->
<div *ngIf="!subscriptionDetails || !userInfo" class="error-message">
  <p>Erreur : Les informations de l'abonnement ou de l'utilisateur sont manquantes. Vous allez être redirigé...</p>
</div>