<div class="consultation-container">
  <div class="header-background-consultation">
    <div class="welcome-text">
      <h1>Prendre un rendez-vous m√©dical ü©∫</h1>
      <p>Choisissez un type de consultation et d√©crivez vos sympt√¥mes</p>

      <!-- ‚úÖ Liens restaur√©s -->
      <div class="actions">
        <button class="nav-btn" routerLink="/profil-nutritionnel/mon-profil">Consulter mon profil</button>
        <button class="nav-btn" routerLink="/menu-semaine">Menu de la semaine</button>
        <button class="nav-btn" routerLink="/consulter-medecin" disabled>Consulter un m√©decin</button>
        <button class="nav-btn secondary" routerLink="/mes-consultations">Voir mes consultations</button>
      </div>
    </div>
  </div>

  <!-- ‚úÖ Message de succ√®s ou d'erreur -->
  <div *ngIf="successMessage" [ngClass]="{ 'toast-message': true, success: successSuccess, error: !successSuccess }">
    <span class="icon">{{ successSuccess ? '‚úÖ' : '‚ùå' }}</span>
    <span class="text">{{ successMessage }}</span>
    <button class="close-btn" (click)="successMessage = ''">‚úñ</button>
  </div>

  <!-- ‚úÖ Formulaire de consultation -->
  <div class="profil-card">
    <form [formGroup]="form" (ngSubmit)="prendreConsultation()" class="form-edit-grid">
      <div class="form-group">
        <label>Type de consultation</label>
        <select formControlName="typeConsultation">
          <option value="GENERALE">G√©n√©rale</option>
          <option value="NUTRITIONNELLE">Nutritionnelle</option>
          <option value="PSYCHOLOGIQUE">Psychologique</option>
          <option value="SUIVI_MEDICAL">Suivi m√©dical</option>
          <option value="PREVENTION">Pr√©vention</option>
          <option value="ACTIVITE_PHYSIQUE">Activit√© physique</option>
        </select>
      </div>

      <div class="form-group full-width">
        <label>Message</label>
        <textarea formControlName="message" rows="4" placeholder="D√©crivez vos sympt√¥mes..."></textarea>
      </div>

      <div class="form-group">
        <label>Date</label>
        <input type="date" formControlName="dateJour" [min]="minDate" />
        <div class="date-info">
          Le m√©decin consulte <strong>du lundi au vendredi</strong>, de <strong>9h √† 16h</strong>.
        </div>
      </div>

      <div class="form-group">
        <label>Heure</label>
        <select formControlName="heure" [disabled]="toutesPrises">
          <option *ngFor="let h of heuresDisponibles" [value]="h">{{ h }}</option>
        </select>
        <div class="date-info" *ngIf="toutesPrises">
          {{ motifIndisponibilite }}
        </div>
      </div>

      <div class="edit-actions full-width">
        <button class="btn-primary" type="submit" [disabled]="form.invalid || toutesPrises">
          Envoyer la demande
        </button>
      </div>
    </form>
  </div>
</div>
